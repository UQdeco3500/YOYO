<template>
  <div class="blood-pressure">
    <div class="title">Blood Pressure</div>
    <div class="icon">
      <svg
        width="32"
        height="42"
        viewBox="0 0 32 42"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M26.2841 4.70791H30.1883C30.9971 4.70791 31.6525 4.05258 31.6525 3.24385C31.6525 2.43512 30.9971 1.77979 30.1883 1.77979H26.2841C25.4754 1.77979 24.8201 2.43512 24.8201 3.24385C24.8201 4.05258 25.4754 4.70791 26.2841 4.70791Z"
          fill="#FBFBFB"
        />
        <path
          d="M30.1883 7.63599H26.2841C25.4754 7.63599 24.8201 8.29132 24.8201 9.10005C24.8201 9.90878 25.4754 10.5641 26.2841 10.5641H30.1883C30.9971 10.5641 31.6525 9.90878 31.6525 9.10005C31.6525 8.29132 30.9971 7.63599 30.1883 7.63599Z"
          fill="#FBFBFB"
        />
        <path
          d="M30.1883 13.4922H26.2841C25.4754 13.4922 24.8201 14.1475 24.8201 14.9563C24.8201 15.765 25.4754 16.4204 26.2841 16.4204H30.1883C30.9971 16.4204 31.6525 15.765 31.6525 14.9563C31.6525 14.1475 30.9971 13.4922 30.1883 13.4922Z"
          fill="#FBFBFB"
        />
        <path
          d="M20.5713 16.3133C19.8603 15.9258 18.9719 16.1904 18.5864 16.9009C18.2003 17.6115 18.4634 18.5004 19.174 18.8859C22.6402 20.7689 24.794 24.3867 24.794 28.3277C24.794 34.2479 19.9776 39.0643 14.0573 39.0643C8.13707 39.0643 3.32066 34.2479 3.32066 28.3277C3.32066 24.4044 5.46054 20.7942 8.90489 18.9059C9.61356 18.517 9.87331 17.6272 9.48491 16.9181C9.09599 16.2089 8.20716 15.9487 7.49705 16.338C3.11479 18.7405 0.392487 23.3349 0.392487 28.3277C0.392487 35.8626 6.52239 41.9925 14.0573 41.9925C21.5922 41.9925 27.7222 35.8626 27.7222 28.3277C27.7221 23.3125 24.9822 18.7086 20.5713 16.3133Z"
          fill="#FBFBFB"
        />
        <path
          d="M8.20096 14.6938C9.00974 14.6938 9.66502 14.0385 9.66502 13.2297V7.34239C9.66502 4.92036 11.6352 2.95015 14.0573 2.95015C16.4793 2.95015 18.4495 4.92036 18.4495 7.34239V13.2297C18.4495 14.0385 19.1048 14.6938 19.9136 14.6938C20.7224 14.6938 21.3777 14.0385 21.3777 13.2297V7.34239C21.3777 3.30568 18.094 0.0219727 14.0573 0.0219727C10.0206 0.0219727 6.73685 3.30568 6.73685 7.34239V13.2297C6.73685 14.0385 7.39218 14.6938 8.20096 14.6938Z"
          fill="#FBFBFB"
        />
        <path
          d="M9.177 23.4155C8.36822 23.4155 7.71289 24.0709 7.71289 24.8796V26.3437C7.71289 27.1525 8.36822 27.8078 9.177 27.8078C9.98578 27.8078 10.6411 27.1524 10.6411 26.3437V24.8796C10.6411 24.0709 9.98578 23.4155 9.177 23.4155Z"
          fill="#FBFBFB"
        />
        <path
          d="M18.9376 23.4155C18.1288 23.4155 17.4734 24.0709 17.4734 24.8796V26.3437C17.4734 27.1525 18.1288 27.8078 18.9376 27.8078C19.7463 27.8078 20.4017 27.1524 20.4017 26.3437V24.8796C20.4017 24.0709 19.7463 23.4155 18.9376 23.4155Z"
          fill="#FBFBFB"
        />
        <path
          d="M14.0437 34.1201C16.023 34.1201 17.4246 32.7561 17.9408 31.9502C18.3726 31.2758 18.1767 30.3885 17.5085 29.9476C16.8389 29.5053 15.9352 29.694 15.4854 30.3551C15.4796 30.3637 14.9063 31.192 14.0436 31.192C13.2077 31.192 12.6806 30.4294 12.6434 30.3736C12.2126 29.6978 11.318 29.4934 10.636 29.9166C9.94928 30.3436 9.73813 31.2463 10.1647 31.9331C10.6695 32.7451 12.054 34.1201 14.0437 34.1201Z"
          fill="#FBFBFB"
        />
      </svg>
    </div>

    <div class="num">{{ upper || "--" }}/{{ lower || "--" }}</div>
  </div>
</template>

<script>
export default {
  name: "blood-pressure",
  props: {},
  data() {
    return {
      upper: 0,
      lower: 0,
      timer2: null,
    };
  },
  methods: {
    getNum() {
      const time = Math.floor(Math.random() * 5) + 1;

      setTimeout(() => {
        this.timer2 = setInterval(() => {
          const upper = Math.floor(Math.random() * (140 - 111)) + 110;
          this.upper = upper;
          const lower = Math.floor(Math.random() * (90 - 66)) + 65;
          this.lower = lower;
        }, 2500);
      }, time * 1000);

      this.$once("hook:beforeDestroy", function () {
        clearInterval(this.timer2);
      });
    },
  },
  mounted() {
    this.getNum();
  },
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="less">
.blood-pressure {
  position: absolute;
  width: 100%;
  left: 0;
  top: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;

  .title {
    font-size: 15px;
    color: #000;
  }

  .icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: #fc6f6f;
    margin: 20px auto;
    box-shadow: 0 0 5px #ccc;
    line-height: 100px;
    text-align: center;

    animation: donghua 2.4s infinite;
  }

  .num {
    font-size: 15px;
  }
}

@keyframes donghua {
  0% {
    transform: scale(0.6);
    /* 注意rgba中的a的设置 */
    box-shadow: 0 0 0 0 rgba(252, 111, 111, 60%);
  }

  60% {
    transform: scale(1);
    box-shadow: 0 0 0 36px rgba(204, 73, 152, 0%);
  }

  100% {
    transform: scale(0.6);
    box-shadow: 0 0 0 0 rgba(204, 73, 152, 0%);
  }
}
</style>
